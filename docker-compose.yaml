services:
  manage:
    container_name: report-manage
    image: sepveneto/br-manage:0.1.0
    ports:
      - 8080:8080
    links:
      - server
    depends_on:
      - server
  server:
    container_name: report-server
    image: sepveneto/br-server:0.1.0
    ports:
      - 8878:8878
    depends_on:
      - db
    links:
      - db
    environment:
      - REPORT_DB_URL=db:27017
  db:
    container_name: report-db
    image: mongo:4.4.26
    ports:
      - '27017:27017'
    env_file:
      - .env.db.local
    command:
      - '--auth'
    volumes:
      - /root/mongodb:/data/db
