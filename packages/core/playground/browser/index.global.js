"use strict";(()=>{var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,a=(e,t)=>{for(var o in t||(t={}))n.call(t,o)&&i(e,o,t[o]);if(r)for(var o of r(t))s.call(t,o)&&i(e,o,t[o]);return e},c="__BR_UUID__",d="$$__BR_REPORT_QUEUE__",l="__BR_API__",u={collect:!0,error:!0,report:!0,interval:10,network:{enable:!1,success:!0,error:!0,responseLimit:100}};function p(e){return h(e,u)}function h(e,t){const o={};return r(t),r(e),o;function r(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&null!=e[t]&&("[object Object]"===Object.prototype.toString.call(e[t])?o[t]=h(e[t],o[t]):o[t]=e[t])}}function w(e,t){let o=!1;try{o=!!uni}catch(e){}try{o?uni.setStorageSync(e,t):window.localStorage.setItem(e,t)}catch(e){console.warn("[@sepveneto/report-core] set storage queue failed: "+e)}}function f(e){let t=!1;try{t=!!uni}catch(e){}return t?uni.getStorageSync(e):window.localStorage.getItem(e)}var g='self.onmessage=e=>{switch(e.data.type){case"report":t(e.data.body).finally(()=>{self.postMessage("finish")});break;default:console.warn("[@sepveneto/report-core] invalid event type: "+e.data.type)}};function t(e){return self.fetch("BR_URL",{method:"post",mode:"no-cors",headers:{"Content-Type":"text/plain; charset=utf-8"},cache:"no-store",credentials:"omit",priority:"low",body:e})}\n';var m=class e{constructor(e){this.report=function(e){const{appid:t,interval:o=10,url:r}=e;return function(e,n,s=!1){const i=function(){let e;try{e=f(c)}catch(e){}if(!e){e=`${Date.now()}${Math.floor(1e7*Math.random())}`;try{w(c,e)}catch(e){}}return e}(),a=JSON.parse(f(d)||"[]");a.push({uuid:i,type:e,data:n,appid:t,time:(new Date).toLocaleString()}),w(d,JSON.stringify(a));const l=()=>{const e=JSON.parse(f(d)||"[]"),o=JSON.stringify({appid:t,data:e});if(!window.navigator.sendBeacon(r,o)){const e=new Blob([g.replace("BR_URL",r)],{type:"application/javascript"}),t=window.URL.createObjectURL(e);window.__BR_WORKER__=new window.Worker(t),window.__BR_WORKER__.onmessage=()=>{var e;null==(e=window.__BR_WORKER__)||e.terminate(),delete window.__BR_WORKER__},window.__BR_WORKER__.postMessage({type:"report",body:o})}w(d,JSON.stringify([])),clearInterval(b),b=void 0};s?l():b||(b=globalThis.setTimeout(l,1e3*o))}}(e),this.options=e,this.init()}static registerPlugin(e){this.pluginsOrder.push(e)}init(){this.triggerPlugin("init")}triggerPlugin(t){e.pluginsOrder.forEach((e=>e[t](this)))}};m.pluginsOrder=[];var b,v=m;[new class{constructor(){this.name="collectPlugin"}init(e){const t=this.getSystemInfo();e.report("__BR_COLLECT_INFO__",t,!0)}getSystemInfo(){let e=!1;try{e=!!uni}catch(e){}if(e){const e=uni.getSystemInfoSync();return{dt:e.deviceType,db:e.deviceBrand,dm:e.deviceModel,dp:e.devicePixelRatio,do:e.deviceOrientation,on:e.osName,ov:e.osVersion,bn:e.browserName,bv:e.browserVersion,hv:e.hostVersion,hfs:e.hostFontSizeSetting,hsdk:e.hostSDKVersion,up:e.uniPlatform,uc:e.uniCompileVersion,ur:e.uniRuntimeVersion,ua:e.ua,wt:e.windowTop,wb:e.windowBottom,ww:e.windowWidth,wh:e.windowHeight,sw:e.screenWidth,sh:e.screenHeight,sbh:e.statusBarHeight,sa:e.safeAreaInsets}}{const e=function(){var e;const t=navigator.userAgent,o=/android/i.test(t),r=/iphone|ipad|ipod/i.test(t),n=t.match(/Windows NT ([\d|\d.\d]*)/i),s=/Macintosh|Mac/i.test(t),i=/Linux|X11/i.test(t),a=s&&navigator.maxTouchPoints>0,c=window.navigator.language;let d,l,u,p="phone";if(r){d="iOS";const e=t.match(/OS\s([\w_]+)\slike/);e&&(l=e[1].replace(/_/g,"."));const o=t.match(/\(([a-zA-Z]+);/);o&&(u=o[1])}else if(o){d="Android";const e=t.match(/Android[\s/]([\w\.]+)[;\s]/);e&&(l=e[1]);const o=t.match(/\((.+?)\)/),r=o?o[1].split(";"):t.split(" "),n=[/\bAndroid\b/i,/\bLinux\b/i,/\bU\b/i,/^\s?[a-z][a-z]$/i,/^\s?[a-z][a-z]-[a-z][a-z]$/i,/\bwv\b/i,/\/[\d\.,]+$/,/^\s?[\d\.,]+$/,/\bBrowser\b/i,/\bMobile\b/i];for(let e=0;e<r.length;e++){const t=r[e];if(t.indexOf("Build")>0){u=t.split("Build")[0].trim();break}let o;for(let e=0;e<n.length;e++)if(n[e].test(t)){o=!0;break}if(!o){u=t.trim();break}}}else if(a)u="iPad",d="iOS",l="function"==typeof window.BigInt?"14.0":"13.0",p="pad";else if(n||s||i){u="PC",d="PC",p="pc";const o=null==(e=t.match(/\((.+?)\)/))?void 0:e[1];if(n){switch(d="Windows",l="",n[1]){case"5.1":l="XP";break;case"6.0":l="Vista";break;case"6.1":l="7";break;case"6.2":l="8";break;case"6.3":l="8.1";break;case"10.0":l="10"}const e=null==o?void 0:o.match(/[Win|WOW]([\d]+)/);e&&(l+=` x${e[1]}`)}else s?(d="macOS",l=(null==o?void 0:o.match(/Mac OS X (.+)/))||"",l&&(l=l[1].replace(/_/g,"."),-1!==l.indexOf(";")&&(l=l.split(";")[0]))):i&&(d="Linux",l=(null==o?void 0:o.match(/Linux (.*)/))||"",l&&(l=l[1],-1!==l.indexOf(";")&&(l=l.split(";")[0])))}else d="Other",l="0",p="unknown";const h=`${d} ${l}`,w=d.toLocaleLowerCase();let f="",g=String(function(){const e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,o=e.indexOf("Edge")>-1&&!t,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){/MSIE (\\d+\\.\\d+);/.test(e);const t=parseFloat(RegExp.$1);return t>6?t:6}return o?-1:r?11:-1}());if("-1"!==g)f="IE";else{const e=["Version","Firefox","Chrome","Edge{0,1}"],o=["Safari","Firefox","Chrome","Edge"];for(let r=0;r<e.length;r++){const n=e[r],s=new RegExp(`(${n})/(\\S*)\\b`);s.test(t)&&(f=o[r],g=t.match(s)[2])}}let m="portrait";const b=void 0===window.screen.orientation?window.orientation:window.screen.orientation.angle;return m=90===Math.abs(b)?"landscape":"portrait",{deviceBrand:void 0,brand:void 0,deviceModel:u,deviceOrientation:m,model:u,system:h,platform:w,browserName:f.toLocaleLowerCase(),browserVersion:g,language:c,deviceType:p,ua:t,osname:d,osversion:l}}();return{dt:e.deviceType,dm:e.deviceModel,dp:window.devicePixelRatio,do:e.deviceOrientation,on:e.osname,ov:e.osversion,bn:e.browserName,bv:e.browserVersion,ua:e.ua}}}},new class{constructor(){this.name="errorPlugin"}init(e){!function(e){const t=console.error;console.error=function(...o){for(const t of o){if(t instanceof Error){const o={name:t.name,message:t.message,stack:t.stack};e(o);break}if(globalThis.PromiseRejectionEvent&&t instanceof PromiseRejectionEvent&&t.reason){const o={name:t.reason.name,message:t.reason.message,stack:t.reason.stack};e(o);break}console.warn(o),console.warn(t,typeof t,Object.prototype.toString.call(t))}t.apply(this,o)}}((t=>this.reportError(e,t))),this.onUncaughtError(e),this.onResourceLoadError(e),this.onUnhandleRejectionError(e)}reportError(e,r){var n,s;e.report("__BR_COLLECT_ERROR__",(n=a({},r),s={page:window.location.href},t(n,o(s))))}onUncaughtError(e){window.addEventListener("error",(t=>this.uncaughtErrorListener(t,e)))}uncaughtErrorListener(e,t){var o,r,n;e&&e.error&&this.reportError(t,{name:(null==(o=e.error)?void 0:o.name)||"[@sepveneto/report-core] unknown error",message:(null==(r=e.error)?void 0:r.message)||e.message,stack:(null==(n=e.error)?void 0:n.stack)||`${e.filename}:${e.lineno},${e.colno}`})}onResourceLoadError(e){window.addEventListener("error",(t=>this.resourceLoadErrorListener(t,e)))}resourceLoadErrorListener(e,t){if(e instanceof ErrorEvent)return;const{target:o}=e;this.reportError(t,{name:"ResourceLoadFail",message:o.src||o.href,stack:o.baseURI})}onUnhandleRejectionError(e){window.addEventListener("unhandledrejection",(t=>this.unhandleRejectionErrorListener(t,e)))}unhandleRejectionErrorListener(e,t){const o=e.reason;this.reportError(t,{name:"UnhandleRejection",message:null==o?void 0:o.message,stack:null==o?void 0:o.stack})}},new class{constructor(){this.name="NetworkPlugin"}init(e){const{network:t,error:o}=p(e.options),r=e.report;class n extends XMLHttpRequest{constructor(){super(...arguments),this._start=0,this._method="GET",this.triggerPage=""}open(...e){const[n]=e;this._method=n,this.triggerPage=window.location.href,t.success&&super.addEventListener("loadend",(()=>{const e=performance.now()-this._start;if(200===this.status){const t=this._collectInfo("success",{duration:e});r(l,t)}else{const t=this._collectInfo("fail",{duration:e});r(l,t)}})),o&&super.addEventListener("abort",(()=>{const e=this._collectInfo("abort");r(l,e)})),o&&super.addEventListener("error",(()=>{const e=this._collectInfo("error");r(l,e)})),o&&super.addEventListener("timeout",(()=>{const e=this._collectInfo("timeout",{timeout:this.timeout});r(l,e)})),super.open(...e)}send(e){t.success&&(this._start=performance.now(),this._body=e),super.send(e)}_collectInfo(e,o={}){const r=Object.prototype.toString.call(this.response);return a({type:e,url:this.responseURL,method:this._method,body:this._body,status:this.status,page:this.triggerPage||window.location.href,responseHeaders:this.getAllResponseHeaders(),response:"string"==typeof this.response?(n=this.response,s=t.responseLimit,function(e){let t=0;for(let o=0;o<e.length;o++){const r=e.charCodeAt(o);t+=r<=127?1:r<=2047?2:r<=65535?3:4}return t}(n)<1e3*s?n:"exceed size limit"):null,responseType:this.responseType||r},o);var n,s}}window.XMLHttpRequest=n,console.info("[@sepveneto/report-core] XMLHttpRequest has been extended")}}].forEach((e=>{v.registerPlugin(e)})),window.BuryReport=v})();