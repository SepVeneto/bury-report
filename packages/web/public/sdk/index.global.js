"use strict";asdasd.asdasdf;;(()=>{var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,a=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&i(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&i(e,r,t[r]);return e},c="__BR_UUID__",d="__BR_COLLECT_ERROR__",l="$$__BR_REPORT_QUEUE__",u="__BR_API__",p={collect:!0,error:!0,report:!0,interval:10,network:{enable:!1,success:!0,error:!0,responseLimit:100}};function h(e){return g(e,p)}function g(e,t){const r={};return o(t),o(e),r;function o(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&null!=e[t]&&("[object Object]"===Object.prototype.toString.call(e[t])?r[t]=g(e[t],r[t]):r[t]=e[t])}}function w(){let e;try{e=m(c)}catch(e){}if(!e){e=`${Date.now()}${Math.floor(1e7*Math.random())}`;try{f(c,e)}catch(e){}}return e}function f(e,t){let r=!1;try{r=!!uni}catch(e){}try{r?uni.setStorageSync(e,t):window.localStorage.setItem(e,t)}catch(e){console.warn("[@sepveneto/report-core] set storage queue failed: "+e)}}function m(e){let t=!1;try{t=!!uni}catch(e){}return t?uni.getStorageSync(e):window.localStorage.getItem(e)}var v='self.onmessage=e=>{switch(e.data.type){case"report":t(e.data.body).finally(()=>{self.postMessage("finish")});break;default:console.warn("[@sepveneto/report-core] invalid event type: "+e.data.type)}};function t(e){return self.fetch("BR_URL",{method:"post",mode:"no-cors",headers:{"Content-Type":"text/plain; charset=utf-8"},cache:"no-store",credentials:"omit",priority:"low",body:e})}\n';var b=class e{constructor(e){this.report=function(e){const{appid:t,interval:r=10,url:o}=e;return function(e,n,s=!1){const i=w(),a=JSON.parse(m(l)||"[]");a.push({uuid:i,type:e,data:n,appid:t,time:(new Date).toLocaleString()}),f(l,JSON.stringify(a));const c=()=>{const e=JSON.parse(m(l)||"[]"),r=JSON.stringify({appid:t,data:e});if(!window.navigator.sendBeacon(o,r)){const e=new Blob([v.replace("BR_URL",o)],{type:"application/javascript"}),t=window.URL.createObjectURL(e);window.__BR_WORKER__=new window.Worker(t),window.__BR_WORKER__.onmessage=()=>{var e;null==(e=window.__BR_WORKER__)||e.terminate(),delete window.__BR_WORKER__},window.__BR_WORKER__.postMessage({type:"report",body:r})}f(l,JSON.stringify([])),clearInterval(_),_=void 0};s?c():_||(_=globalThis.setTimeout(c,1e3*r))}}(e),this.options=e,this.init()}static registerPlugin(e){this.pluginsOrder.push(e)}init(){this.triggerPlugin("init")}triggerPlugin(t){e.pluginsOrder.forEach((e=>e[t](this)))}};b.pluginsOrder=[];var _,E=b;[new class{constructor(){this.name="collectPlugin"}init(e){const t=this.getSystemInfo();e.report("__BR_COLLECT_INFO__",t,!0)}getSystemInfo(){let e=!1;try{e=!!uni}catch(e){}if(e){const e=uni.getSystemInfoSync();return{dt:e.deviceType,db:e.deviceBrand,dm:e.deviceModel,dp:e.devicePixelRatio,do:e.deviceOrientation,on:e.osName,ov:e.osVersion,bn:e.browserName,bv:e.browserVersion,hv:e.hostVersion,hfs:e.hostFontSizeSetting,hsdk:e.hostSDKVersion,up:e.uniPlatform,uc:e.uniCompileVersion,ur:e.uniRuntimeVersion,ua:e.ua,wt:e.windowTop,wb:e.windowBottom,ww:e.windowWidth,wh:e.windowHeight,sw:e.screenWidth,sh:e.screenHeight,sbh:e.statusBarHeight,sa:e.safeAreaInsets}}{const e=function(){var e;const t=navigator.userAgent,r=/android/i.test(t),o=/iphone|ipad|ipod/i.test(t),n=t.match(/Windows NT ([\d|\d.\d]*)/i),s=/Macintosh|Mac/i.test(t),i=/Linux|X11/i.test(t),a=s&&navigator.maxTouchPoints>0,c=window.navigator.language;let d,l,u,p="phone";if(o){d="iOS";const e=t.match(/OS\s([\w_]+)\slike/);e&&(l=e[1].replace(/_/g,"."));const r=t.match(/\(([a-zA-Z]+);/);r&&(u=r[1])}else if(r){d="Android";const e=t.match(/Android[\s/]([\w\.]+)[;\s]/);e&&(l=e[1]);const r=t.match(/\((.+?)\)/),o=r?r[1].split(";"):t.split(" "),n=[/\bAndroid\b/i,/\bLinux\b/i,/\bU\b/i,/^\s?[a-z][a-z]$/i,/^\s?[a-z][a-z]-[a-z][a-z]$/i,/\bwv\b/i,/\/[\d\.,]+$/,/^\s?[\d\.,]+$/,/\bBrowser\b/i,/\bMobile\b/i];for(let e=0;e<o.length;e++){const t=o[e];if(t.indexOf("Build")>0){u=t.split("Build")[0].trim();break}let r;for(let e=0;e<n.length;e++)if(n[e].test(t)){r=!0;break}if(!r){u=t.trim();break}}}else if(a)u="iPad",d="iOS",l="function"==typeof window.BigInt?"14.0":"13.0",p="pad";else if(n||s||i){u="PC",d="PC",p="pc";const r=null==(e=t.match(/\((.+?)\)/))?void 0:e[1];if(n){switch(d="Windows",l="",n[1]){case"5.1":l="XP";break;case"6.0":l="Vista";break;case"6.1":l="7";break;case"6.2":l="8";break;case"6.3":l="8.1";break;case"10.0":l="10"}const e=null==r?void 0:r.match(/[Win|WOW]([\d]+)/);e&&(l+=` x${e[1]}`)}else s?(d="macOS",l=(null==r?void 0:r.match(/Mac OS X (.+)/))||"",l&&(l=l[1].replace(/_/g,"."),-1!==l.indexOf(";")&&(l=l.split(";")[0]))):i&&(d="Linux",l=(null==r?void 0:r.match(/Linux (.*)/))||"",l&&(l=l[1],-1!==l.indexOf(";")&&(l=l.split(";")[0])))}else d="Other",l="0",p="unknown";const h=`${d} ${l}`,g=d.toLocaleLowerCase();let w="",f=String(function(){const e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,r=e.indexOf("Edge")>-1&&!t,o=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){/MSIE (\\d+\\.\\d+);/.test(e);const t=parseFloat(RegExp.$1);return t>6?t:6}return r?-1:o?11:-1}());if("-1"!==f)w="IE";else{const e=["Version","Firefox","Chrome","Edge{0,1}"],r=["Safari","Firefox","Chrome","Edge"];for(let o=0;o<e.length;o++){const n=e[o],s=new RegExp(`(${n})/(\\S*)\\b`);s.test(t)&&(w=r[o],f=t.match(s)[2])}}let m="portrait";const v=void 0===window.screen.orientation?window.orientation:window.screen.orientation.angle;return m=90===Math.abs(v)?"landscape":"portrait",{deviceBrand:void 0,brand:void 0,deviceModel:u,deviceOrientation:m,model:u,system:h,platform:g,browserName:w.toLocaleLowerCase(),browserVersion:f,language:c,deviceType:p,ua:t,osname:d,osversion:l}}();return{dt:e.deviceType,dm:e.deviceModel,dp:window.devicePixelRatio,do:e.deviceOrientation,on:e.osname,ov:e.osversion,bn:e.browserName,bv:e.browserVersion,ua:e.ua}}}},new class{constructor(){this.name="errorPlugin",this.uncaughtErrorListener=e=>{var t,r,o;e&&e.error&&this.reportError({name:(null==(t=e.error)?void 0:t.name)||"[@sepveneto/report-core] unknown error",message:(null==(r=e.error)?void 0:r.message)||e.message,stack:(null==(o=e.error)?void 0:o.stack)||`${e.filename}:${e.lineno},${e.colno}`})},this.resourceLoadErrorListener=e=>{if(e instanceof ErrorEvent)return;const{target:t}=e;this.reportError({name:"ResourceLoadFail",message:t.src||t.href,stack:t.baseURI})},this.unhandleRejectionErrorListener=e=>{const t=e.reason;this.reportError({name:"UnhandleRejection",message:null==t?void 0:t.message,stack:null==t?void 0:t.stack})}}init(e){"string"==typeof e?this.appid=e:this.ctx=e,this.originErrorLog=function(e){const t=console.error;return console.error=function(...r){for(const t of r){if("string"==typeof t){e({name:"CustomError",message:t,stack:""});break}if(t instanceof Error){const r={name:t.name,message:t.message,stack:t.stack};e(r);break}if(globalThis.PromiseRejectionEvent&&t instanceof PromiseRejectionEvent&&t.reason){const r={name:t.reason.name,message:t.reason.message,stack:t.reason.stack};e(r);break}console.warn(r),console.warn(t,typeof t,Object.prototype.toString.call(t))}t.apply(this,r)},t}((e=>this.reportError(e))),this.onUncaughtError(),this.onResourceLoadError(),this.onUnhandleRejectionError()}reportError(e){const o=(n=a({},e),s={page:window.location.href},t(n,r(s)));var n,s;this.ctx?this.ctx.report(d,o):function(e,t){const r=w(),o=d,n=JSON.parse(m(l)||"[]");n.length>30&&n.shift(),n.push({uuid:r,type:o,data:t,appid:e,time:(new Date).toLocaleString()}),f(l,JSON.stringify(n))}(this.appid,o)}resetListener(){console.error=this.originErrorLog,window.removeEventListener("error",this.uncaughtErrorListener),window.removeEventListener("error",this.resourceLoadErrorListener),window.removeEventListener("unhandledrejection",this.unhandleRejectionErrorListener)}onUncaughtError(){window.addEventListener("error",this.uncaughtErrorListener)}onResourceLoadError(){window.addEventListener("error",this.resourceLoadErrorListener)}onUnhandleRejectionError(){window.addEventListener("unhandledrejection",this.unhandleRejectionErrorListener)}},new class{constructor(){this.name="NetworkPlugin"}init(e){const{network:t,error:r}=h(e.options),o=e.report;class n extends XMLHttpRequest{constructor(){super(...arguments),this._start=0,this._method="GET",this.triggerPage=""}open(...e){const[n]=e;this._method=n,this.triggerPage=window.location.href,t.success&&super.addEventListener("loadend",(()=>{const e=performance.now()-this._start;if(200===this.status){const t=this._collectInfo("success",{duration:e});o(u,t)}else{const t=this._collectInfo("fail",{duration:e});o(u,t)}})),r&&super.addEventListener("abort",(()=>{const e=this._collectInfo("abort");o(u,e)})),r&&super.addEventListener("error",(()=>{const e=this._collectInfo("error");o(u,e)})),r&&super.addEventListener("timeout",(()=>{const e=this._collectInfo("timeout",{timeout:this.timeout});o(u,e)})),super.open(...e)}send(e){t.success&&(this._start=performance.now(),this._body=e),super.send(e)}_collectInfo(e,r={}){const o=Object.prototype.toString.call(this.response);return a({type:e,url:this.responseURL,method:this._method,body:this._body,status:this.status,page:this.triggerPage||window.location.href,responseHeaders:this.getAllResponseHeaders(),response:"string"==typeof this.response?(n=this.response,s=t.responseLimit,function(e){let t=0;for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);t+=o<=127?1:o<=2047?2:o<=65535?3:4}return t}(n)<1e3*s?n:"exceed size limit"):null,responseType:this.responseType||o},r);var n,s}}window.XMLHttpRequest=n,console.info("[@sepveneto/report-core] XMLHttpRequest has been extended")}}].forEach((e=>{E.registerPlugin(e)})),window.BuryReport=E})();